{% extends "base.html" %}

{% block title %}Foro: {{ subforum.name }}{% endblock %}

{% block content %}
<h2>Subforo: {{ subforum.name }}</h2>

<!-- Formulario para crear una nueva publicación -->
<form method="POST">
    <input type="hidden" name="subforum_id" value="{{ subforum.id }}"> <!-- Campo oculto para el ID del subforo -->
    
    <label for="title">Título del post:</label>
    <input type="text" name="title" id="title" required>

    <label for="content">Contenido:</label>
    <textarea name="content" id="content" rows="4" required></textarea>

    <button type="submit">Crear Post</button>
</form>

<hr>

<h3>Publicaciones:</h3>
{% for post in posts %}
    <div class="post">
        <h3>{{ post.title }}</h3>
        <p>{{ post.content }}</p>
        <p><strong>Publicado por:</strong> {{ post.user.username }}</p>
        <a href="{{ url_for('post', post_id=post.id) }}">Ver comentarios</a>
    </div>
    <hr>
{% endfor %}

{% endblock %}
